<?xml version="1.0"?>
<project name="run-all-junit-tests" default="all" basedir=".">

    <import file="../build/build-common.xml"/>
    <import file="../ajbrowser/build.xml"/>
    <import file="../ajde/build.xml"/>
    <import file="../asm/build.xml"/>
    <import file="../aspectj5rt/build.xml"/>
    <import file="../bridge/build.xml"/>
    <import file="../org.aspectj.ajdt.core/build.xml"/>
    <import file="../runtime/build.xml"/>
    <import file="../taskdefs/build.xml"/>
    <import file="../testing/build.xml"/>
    <import file="../testing-drivers/build.xml"/>
    <import file="../tests/build.xml"/>
    <import file="../util/build.xml"/>
<!--    <import file="../ajde/build.xml"/>-->
<!--    <import file="../asm/build.xml"/>-->
<!--    <import file="../bridge/build.xml"/>-->
<!--    <import file="../testing/build.xml"/>-->

    <path id="run-all-junit-tests.test.src.path">
<!--        <path refid="run-all-junit-tests.src.path"/>-->
        <pathelement path="../ajde/bintest"/>
        <pathelement path="../ajde/bin"/>
        <pathelement path="../ajbrowser/bintest"/>
        <pathelement path="../ajbrowser/bin"/>
        <pathelement path="../asm/bintest"/>
        <pathelement path="../asm/bin"/>
        <pathelement path="../aspectj5rt/bintest"/>
        <pathelement path="../aspectj5rt/bin"/>
        <pathelement path="../bridge/bintest"/>
        <pathelement path="../bridge/bin"/>
        <pathelement path="../org.aspectj.ajdt.core/bintest"/>
        <pathelement path="../org.aspectj.ajdt.core/bin"/>
        <pathelement path="../taskdefs/bintest"/>
        <pathelement path="../taskdefs/bin"/>
        <pathelement path="../runtime/bintest"/>
        <pathelement path="../runtime/bin"/>
        <pathelement path="../testing/bintest"/>
        <pathelement path="../testing/bin"/>
        <pathelement path="../testing-drivers/bintest"/>
        <pathelement path="../testing-drivers/bin"/>
        <pathelement path="../testing-util/bintest"/>
        <pathelement path="../testing-util/bin"/>
        <pathelement path="../tests/bin"/>
        <pathelement path="../util/bintest"/>
        <pathelement path="../util/bin"/>
        <!-- below are libs / deps required for test run -->
        <fileset dir="${basedir}/../lib">
            <include name="junit/*.jar"/>
            <include name="ant/lib/*.jar"/>
            <include name="commons/*.jar"/>
            <include name="bcel/*.jar"/>
        </fileset>
        <fileset dir="${basedir}/../org.eclipse.jdt.core">
            <include name="*.jar"/>
        </fileset>
        <pathelement path="../weaver/bin"/>
        <pathelement path="../weaver/bintest"/>
    </path>

    <path id="run-all-junit-tests.src.path">
    </path>

    <target name="compile" depends="init">
        <!-- empty - no src/ here -->
    </target>

    <target name="test:compile" depends="compile,
                                         ajbrowser.compile,
                                         ajbrowser.test:compile,
                                         ajde.compile,
                                         ajde.test:compile,
                                         asm.compile,
                                         asm.test:compile,
                                         aspectj5rt.compile,
                                         bridge.compile,
                                         bridge.test:compile,
                                         org.aspectj.ajdt.core.compile,
                                         org.aspectj.ajdt.core.test:compile,
                                         runtime.compile,
                                         runtime.test:compile,
                                         taskdefs.compile,
                                         taskdefs.test:compile,
                                         testing.compile,
                                         testing.test:compile,
                                         testing-drivers.compile,
                                         testing-drivers.test:compile,
                                         testing-util.compile,
                                         testing-util.test:compile,
                                         tests.compile,
                                         util.compile,
                                         util.test:compile,
                                         weaver.compile,
                                         weaver.test:compile">
        <ant antfile="../aspectj5rt/build.xml" target="test:compile"/>
        <testcompile project="run-all-junit-tests" path="run-all-junit-tests.test.src.path"/>
    </target>

    <target name="test" depends="test:compile">
        <testrun project="run-all-junit-tests" path="run-all-junit-tests.test.src.path"
                 suite="RunTheseBeforeYouCommitTests"/>
    </target>

    <target name="clean">

    </target>

</project>

