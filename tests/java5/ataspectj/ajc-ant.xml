<!-- ajc-ant script, not to be used from Ant commant line - see AntSpec -->
<project name="foo" default="javac.ltw">

    <property
        name="jdwp"
        value=""/>

    <target name="compile:javac">
        <!-- compile only javac compilable stuff -->
        <javac destdir="${aj.sandbox}" classpathref="aj.path"
            srcdir="${basedir}"
            includes="ataspectj/*"
            debug="true">
        </javac>
    </target>

    <target name="ltw">
        <java fork="yes" classname="ataspectj.AllLTWTests" failonerror="yes">
            <classpath refid="aj.path"/>
            <jvmarg value="-javaagent:${aj.root}/lib/test/loadtime5.jar"/>
            <jvmarg value="-Daj5.def=ataspectj/aop.xml"/>
        </java>
    </target>

    <target name="ltw.PerClauseTest">
        <java fork="yes" classname="ataspectj.PerClauseTest" failonerror="yes">
            <classpath refid="aj.path"/>
            <jvmarg value="-javaagent:${aj.root}/lib/test/loadtime5.jar"/>
            <jvmarg value="-Daj5.def=ataspectj/aop-perclausetest.xml"/>
        </java>
    </target>

    <target name="ltw.AroundInlineMungerTest">
        <java fork="yes" classname="ataspectj.AroundInlineMungerTest" failonerror="yes">
            <classpath refid="aj.path"/>
            <jvmarg value="-javaagent:${aj.root}/lib/test/loadtime5.jar"/>
            <jvmarg value="-Daj5.def=ataspectj/aop-aroundinlinemungertest.xml"/>
        </java>
    </target>

    <target name="javac.ltw" depends="compile:javac, ltw"/>
</project>