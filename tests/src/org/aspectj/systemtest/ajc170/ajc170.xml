<!DOCTYPE suite SYSTEM "../tests/ajcTestSuite.dtd"[]>

<suite>

   <ajc-test dir="bugs170/pr371998" title="BCException anno decp">
     <compile files="AspectTest.java" options="-1.5 -showWeaveInfo">
   	   <message kind="weave" text="Extending interface set for type 'Foo' (AspectTest.java) to include 'X' (AspectTest.java)"/>
   	   <message kind="weave" text="Type 'Foo' (AspectTest.java) has intertyped method from 'AspectTest' (AspectTest.java:'void X.xxx()')"/>
   	   <message kind="weave" text="Extending interface set for type 'Bar' (AspectTest.java) to include 'X' (AspectTest.java)"/>
   	   <message kind="weave" text="Type 'Bar' (AspectTest.java) has intertyped method from 'AspectTest' (AspectTest.java:'void X.xxx()')"/>
   	 </compile>
   	 <run class="AspectTest"/>
   </ajc-test>
   
   <ajc-test dir="bugs170/transientTjpFields" title="transient tjp fields">
      <compile files="Code.java" options="-Xset:makeTjpFieldsTransient=true">
      </compile>
   </ajc-test>

   <ajc-test dir="bugs170/language" title="perthis">
   	<compile files="PerThis.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="pertarget">
   	<compile files="PerTarget.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="percflow">
   	<compile files="PerCflow.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="pertypewithin">
   	<compile files="PerTypeWithin.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="diamond 1">
   	<compile files="Diamond.java" options="-1.5">
   		<message kind="error" line="11" text="'&lt;&gt;' operator is not allowed for source level below 1.7"/>
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="diamond 2">
   	<compile files="Diamond.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="diamond itd 1">
   	<compile files="DiamondITD.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="literals 1">
   	<compile files="Literals.java" options="-1.5">
   		<message kind="error" line="8" text="Underscores can only be used with source level 1.7 or greater"/>
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="literals 2">
   	<compile files="Literals.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="literals itd 1">
   	<compile files="LiteralsITD.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="string switch 1">
   	<compile files="StringSwitch.java" options="-1.5">
   	<message kind="error" line="9" text="Cannot switch on a value of type String for source level below 1.7. Only convertible int values or enum constants are permitted"/>
   	</compile>
   </ajc-test>

   <ajc-test dir="bugs170/language" title="string switch 2">
   	<compile files="StringSwitch.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="multi catch 1">
   	<compile files="MultiCatch.java" options="-1.5">
   		<message kind="error" line="6" text="Multi-catch parameters are not allowed for source level below 1.7"/>
   	</compile>
   </ajc-test>

   <ajc-test dir="bugs170/language" title="multi catch 2">
   	<compile files="MultiCatch.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="multi catch with handler 1">
   	<compile files="MultiCatchWithHandler.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="multi catch aspect 1">
   	<compile files="MultiCatchAspect.java" options="-1.7">
   	</compile>
   </ajc-test>

   <ajc-test dir="bugs170/language" title="try resources 1">
   	<compile files="TryResources.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="try resources 2">
   	<compile files="TryResourcesAspect.java" options="-1.7">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/language" title="multi catch with handler 2">
   	<compile files="MultiCatchWithHandler2.java" options="-1.7">
   	</compile>
   	<run class="MultiCatchWithHandler2"></run>
   </ajc-test>
   
   <ajc-test dir="bugs170/sanity" title="sanity 1">
   	<compile files="DeclareAtType.java" options="-1.5">
   	</compile>
   </ajc-test>
   
   <ajc-test dir="bugs170/pr363979" title="missing impl">
     <compile files="Example.java" options="-1.5"/>
     <run class="Example">
	     <stdout>
	    	 <line text="yes"/>
	     </stdout>
     </run>
   </ajc-test>
   
   <ajc-test dir="bugs170/pr363979" title="missing impl 2">
     <compile files="Example2.java" options="-1.5"/>
     <run class="Example2">
	     <stdout>
	    	 <line text="yes"/>
	     </stdout>
     </run>
   </ajc-test>
   
   <ajc-test dir="bugs170/pr364380" title="stackoverflow">
     <compile files="X.aj" options="-1.5" outjar="foo.jar"/>
     <compile files="C.java" options="-1.5" inpath="foo.jar">
     <message kind="warning" text="An advice already exists for setting an owner"/>
     </compile>
   </ajc-test>
   
</suite>
