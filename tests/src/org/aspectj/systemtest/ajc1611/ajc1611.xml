<!DOCTYPE suite SYSTEM "../tests/ajcTestSuite.dtd"[]>

<suite>

  <ajc-test dir="bugs1611/pr335783" title="pr335783">
    <compile files="A.java" options="-1.5"/>
    <compile files="X.aj" options="-1.5 -Xlint:ignore" />
    <run class="A" ltw="aop.xml">
    <stdout>
	    <line text="OK"/>
    </stdout>
    </run>
  </ajc-test>
  
  <ajc-test dir="bugs1611/pr333274" title="anno style advice chain">
  <compile files="ma/Annotation1.java  ma/aspect1/Aspect1.java  ma/aspect3/Aspect3.java ma/Main.java ma/Precedence.java" options="-1.5"/>
  <run class="ma.Main">
  <stdout>
  <line text="&gt;In Aspect1"/>
  <line text="&gt;In Aspect3"/>
  <line text="Method call"/>
  <line text="&lt;In Aspect3"/>
  <line text="=In Aspect1"/>
  <line text="&gt;In Aspect3"/>
  <line text="Method call"/>
  <line text="&lt;In Aspect3"/>
  <line text="&lt;In Aspect1"/>
  </stdout>
  </run>
  </ajc-test>
  
  <ajc-test dir="bugs1611/pr333274" title="code style advice chain - no inline">
  <compile files="ma2/Annotation1.java  ma2/aspect1/Aspect1.java  ma2/aspect3/Aspect3.java ma2/Main.java ma2/Precedence.java" options="-1.5 -XnoInline"/>
  <run class="ma2.Main">
  <stdout>
  <line text="&gt;In Aspect1"/>
  <line text="&gt;In Aspect3"/>
  <line text="Method call"/>
  <line text="&lt;In Aspect3"/>
  <line text="=In Aspect1"/>
  <line text="&gt;In Aspect3"/>
  <line text="Method call"/>
  <line text="&lt;In Aspect3"/>
  <line text="&lt;In Aspect1"/>
  </stdout>
  </run>
  </ajc-test>
  
  <ajc-test dir="bugs1611/pr333274" title="code style advice chain">
  <compile files="ma2/Annotation1.java  ma2/aspect1/Aspect1.java  ma2/aspect3/Aspect3.java ma2/Main.java ma2/Precedence.java" options="-1.5 "/>
  <run class="ma2.Main">
  <stdout>
  <line text="&gt;In Aspect1"/>
  <line text="&gt;In Aspect3"/>
  <line text="Method call"/>
  <line text="&lt;In Aspect3"/>
  <line text="=In Aspect1"/>
  <line text="&gt;In Aspect3"/>
  <line text="Method call"/>
  <line text="&lt;In Aspect3"/>
  <line text="&lt;In Aspect1"/>
  </stdout>
  </run>
  </ajc-test>

  <ajc-test dir="bugs1611/pr328840" title="pr328840">
    <compile files="Wibble.aj" options="-1.5 -showWeaveInfo">
    <message kind="weave" text="Join point 'field-get(XX Song.i)' in Type 'Song' (Wibble.aj:26) advised by before advice from 'Wibble' (Wibble.aj:9)"/>
    <message kind="weave" text="'XX i' of type 'Song' (Wibble.aj) is annotated with @Foo field annotation from 'Wibble' (Wibble.aj:7)"/>
    </compile>
    <run class="Wibble">
    <stdout>
    <line text="@Foo()"/>
    </stdout></run>
  </ajc-test>
  
  <ajc-test dir="bugs1611/pr332388" title="pr332388">
     <compile files="M.java" outjar="M.jar" options="-1.5"/>
     <compile files="A.java B.java" classpath="M.jar" outjar="AB.jar" options="-1.5"/>
     <compile files="MyAspect.java" outjar="aspects.jar" options="-1.5"/>
     <compile files="" aspectpath="aspects.jar" inpath="AB.jar" options="-1.5">
     <message kind="error" text="Unable to find type for generic bound.  Missing type is M [Xlint:cantFindType]"/>
     </compile>
  </ajc-test>
  
  <ajc-test dir="bugs1611/pr333469" title="pr333469">
     <compile files="MyList.java MyList_Serializable.java" options="-1.5"/>
     <run class="MyList">
     <stdout><line text="ser=1"/></stdout>
     </run>
  </ajc-test>
  
  <ajc-test dir="bugs1611/pr332388_2" title="pr332388 - 2">
     <compile files="M.java" outjar="M.jar" options="-1.5"/>
     <compile files="A.java" classpath="M.jar" outjar="A.jar" options="-1.5"/>
     <compile files="MyAspect.java" outjar="aspects.jar" options="-1.5"/>
     <compile files="" aspectpath="aspects.jar" inpath="A.jar" options="-1.5">
     <message kind="error" text="Unable to find type (for bound): M [Xlint:cantFindType]"/>
     </compile>
  </ajc-test>
  
</suite>