<!DOCTYPE suite SYSTEM "../tests/ajcTestSuite.dtd"[]>
<suite>

    <ajc-test dir="java5/ataspectj" title="RunThemAllWithJavacCompiledAndLTW">
        <ant file="ajc-ant.xml" target="javac.ltw" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW PerClauseTest -XnoWeave">
        <compile
            files="ataspectj/PerClauseTest.java,ataspectj/PerClauseTestAspects.java,ataspectj/TestHelper.java"
            options="-1.5 -XnoWeave"/>
        <ant file="ajc-ant.xml" target="ltw.PerClauseTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW PerClauseTest -Xreweavable">
        <compile
            files="ataspectj/PerClauseTest.java,ataspectj/PerClauseTestAspects.java,ataspectj/TestHelper.java"
            options="-1.5 -Xreweavable"/>
        <ant file="ajc-ant.xml" target="ltw.PerClauseTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="JavaCAjcLTW PerClauseTest">
        <compile
            files="ataspectj/PerClauseTest.java,ataspectj/TestHelper.java,ataspectj/PerClauseTestAspects.java"
            options="-1.5 -XnoWeave"/>
        <comment>
        aspectOf methods will be pushed in, ignore warning for adviceDidNotMatch but still do the logic for them
        since such just added methods are an interesting case (percflow ajc$perCflowStack advice)
        </comment>
        <compile
            files="ataspectj/PerClauseTestAspects.java"
            options="-1.5 -Xdev:NoAtAspectJProcessing">
                <message kind="warning"/>
        </compile>
        <ant file="ajc-ant.xml" target="ltw.PerClauseTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW AroundInlineMungerTest -XnoWeave">
        <compile
            files="ataspectj/AroundInlineMungerTest.java,ataspectj/AroundInlineMungerTestAspects.java,ataspectj/TestHelper.java"
            options="-1.5 -XnoWeave"/>
        <ant file="ajc-ant.xml" target="ltw.AroundInlineMungerTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW AroundInlineMungerTest -Xreweavable">
        <compile
            files="ataspectj/AroundInlineMungerTest.java,ataspectj/AroundInlineMungerTestAspects.java,ataspectj/TestHelper.java"
            options="-1.5 -Xreweavable"/>
        <ant file="ajc-ant.xml" target="ltw.AroundInlineMungerTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW AroundInlineMungerTest">
        <compile
            files="ataspectj/AroundInlineMungerTestAspects.java"
            options="-1.5 -Xlint:ignore"/>
        <compile
            files="ataspectj/AroundInlineMungerTest.java,ataspectj/TestHelper.java"
            options="-1.5 -Xreweavable"/>
        <ant file="ajc-ant.xml" target="ltw.AroundInlineMungerTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW AroundInlineMungerTest -XnoInline -Xreweavable">
        <compile
            files="ataspectj/AroundInlineMungerTestAspects.java"
            options="-1.5 -Xlint:ignore -XnoInline -Xreweavable"/>
        <compile
            files="ataspectj/AroundInlineMungerTest.java,ataspectj/TestHelper.java"
            options="-1.5 -Xreweavable -XnoInline"/>
        <ant file="ajc-ant.xml" target="ltw.AroundInlineMungerTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="AjcLTW AroundInlineMungerTest2">
        <compile
            files="ataspectj/AroundInlineMungerTestAspects2.aj"
            options="-1.5 -Xlint:ignore"/>
        <compile
            files="ataspectj/AroundInlineMungerTest2.aj,ataspectj/TestHelper.java"
            options="-1.5 -Xreweavable"/>
        <ant file="ajc-ant.xml" target="ltw.AroundInlineMungerTest2" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="LTW DumpTest">
        <compile
            files="ataspectj/DumpTest.java,ataspectj/DumpTestTheDump.java,ataspectj/TestHelper.java"
            options="-1.5"/>
        <ant file="ajc-ant.xml" target="ltw.DumpTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="Ajc Aspect1 LTW Aspect2 -Xreweavable">
        <compile
            files="ataspectj/ltwreweavable/Main.java,ataspectj/ltwreweavable/Aspect1.java,ataspectj/ltwreweavable/Advisable.java"
            options="-1.5 -Xreweavable"
            outjar="main1.jar"/>
        <ant file="ajc-ant.xml" target="ltw.Aspect2MainTest" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="LTW Log">
        <ant file="ajc-ant.xml" target="ltwlog.LTWLog" verbose="true"/>
    </ajc-test>

    <ajc-test dir="java5/ataspectj" title="LTW Unweavable">
        <ant file="ajc-ant.xml" target="ltw.Unweavable" verbose="true"/>
    </ajc-test>

</suite>