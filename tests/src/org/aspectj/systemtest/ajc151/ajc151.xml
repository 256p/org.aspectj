<!DOCTYPE suite SYSTEM "../tests/ajcTestSuite.dtd"[]>

<!-- AspectJ v1.5.1 Tests -->
<suite>
    
    <ajc-test dir="bugs151" title="member types in generic types">
        <compile files="pr122458.aj" options="-1.5 -emacssym"/>
    </ajc-test>
    
    <ajc-test dir="bugs151" title="member types in generic types - 2">
        <compile files="pr122458_2.aj" options="-1.5 -emacssym"/>
        <run class="pr122458_2"/>
    </ajc-test>
    
    <ajc-test dir="bugs151/pr123695" title="Internal nullptr exception with complex declare annotation">
        <compile files="InjectName.java,Main.java,MarkMyMethods.java,MarkMyMethodsAspect.java,NameAspect.java,Named.java,Read.java,Write.java" options="-1.5"/>
    </ajc-test>
    
    <ajc-test dir="bugs151/pr124105" title="hasMember problems with packages">
        <compile files="com/test/IOption.java,com/test/IXOption.java,com/test/IYOption.java,com/test/IZOption.java,com/test/MyBrokenXOption.java,com/test/MyXOption.java,com/test/OptionAspect.aj,com/test/OptionType.java" options="-1.5 -XhasMember">
          <message kind="error" line="4" text="IOption implementations must provide a constructor which accepts an OptionType"/>
        </compile>
    </ajc-test>
    
    <ajc-test dir="bugs151/pr124803" title="generics and different numbers of type variables">
        <compile files="Test.java,TestAspect.java" options="-1.5 -showWeaveInfo">
          <message kind="weave" text="Join point 'method-execution(void Test.foo(java.lang.Number))' in Type 'Test' (Test.java:12) advised by after advice from 'TestAspect' (TestAspect.java:4)"/>
        </compile>
        <run class="Test">
          <stderr>
             <line text="Aspects:execution(void Test.foo(Number))"/>
          </stderr>
        </run>
    </ajc-test>
    
    <ajc-test dir="bugs151/pr124803" title="generics and different numbers of type variables - classes">
        <compile files="Test2.java,TestAspect2.java" options="-1.5 -showWeaveInfo">
          <message kind="weave" text="Join point 'method-execution(void Test2.foo(java.lang.Number))' in Type 'Test2' (Test2.java:12) advised by after advice from 'TestAspect2' (TestAspect2.java:4)"/>
	      <message kind="weave" text="Join point 'method-execution(void Generic1.foo(java.lang.Number))' in Type 'Generic1' (Test2.java:2) advised by after advice from 'TestAspect2' (TestAspect2.java:4) [with runtime test]"/>
        </compile>
        <run class="Test2">
          <stderr>
             <line text="Aspects:execution(void Test2.foo(Number))"/>
          </stderr>
        </run>
    </ajc-test>
    
    <ajc-test dir="bugs151/pr124808" title="parameterized collection fields matched via pointcut">
        <compile files="Test.java,TestAspect.java" options="-1.5"/>
        <run class="Test">
          <stderr>
             <line text="GO Aspects!  get(Set Test.ints)"/>
          </stderr>
        </run>
    </ajc-test>
    
    <ajc-test dir="bugs151" title="calling inherited generic method from around advice">
        <compile files="pr124999.aj" options="-1.5"/>
        <run class="pr124999"/>
    </ajc-test>
    
    <ajc-test dir="bugs151/pr124654" title="generic aspects and annotations">
        <compile files="GenericAnnotation.java,TestSubAspect.java" options="-1.5"/>
        <run class="TestSubAspect">
          <stderr>
            <line text="Reference pointcut advice. interface MyAnnotation"/>
            <line text="Inlined pointcut advice. interface MyAnnotation"/>
            <line text="run running"/>
          </stderr>
        </run>
    </ajc-test>
</suite>