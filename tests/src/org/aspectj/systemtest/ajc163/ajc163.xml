<!DOCTYPE suite SYSTEM "../tests/ajcTestSuite.dtd"[]>

<suite>


    <ajc-test dir="bugs163/pr253109" title="generic pointcuts - 1">
      <compile files="CodeOne.java" options="-1.5">
        <message kind="warning" line="4" text="has not been applied"/>
      </compile>
    </ajc-test>
    
    <ajc-test dir="bugs163/pr253109" title="generic pointcuts - 2">
      <compile files="CodeTwo.java" options="-1.5"/>
    </ajc-test>
    
    <ajc-test dir="bugs163/pr253109" title="generic pointcuts - 3">
      <compile files="CodeThree.java" options="-1.5 -showWeaveInfo">      
        <message kind="weave" text="advised by before advice from 'CodeThree' (CodeThree.java:4)"/>
        <message kind="weave" text="advised by before advice from 'CodeThree' (CodeThree.java:5) [with runtime test]"/>
        <message kind="warning" line="6" text="has not been applied"/>
        <message kind="warning" line="7" text="has not been applied"/>
        <message kind="weave" text="advised by before advice from 'CodeThree' (CodeThree.java:8)"/>
        <message kind="weave" text="advised by before advice from 'CodeThree' (CodeThree.java:9) [with runtime test]"/> 
        <message kind="warning" line="5" text="unchecked"/>        
        <message kind="warning" line="9" text="unchecked"/>        
      </compile>
    </ajc-test>

    <ajc-test dir="bugs163/pr194314" title="broken lvt - 1">
      <compile files="Service.java IService.java Main.java ServiceInterceptor.java" options="-1.5"/>
    </ajc-test>
    
    <ajc-test dir="bugs163/pr194314" title="broken lvt - 2">
      <compile files="Service.java IService.java Main.java ServiceInterceptorCodeStyle.java" options="-1.5"/>
    </ajc-test>

    <ajc-test dir="bugs163/pr163005" title="do not add method bodies to an interface">
      <compile files="Code.java" options="-1.4">
        <message kind="warning" text="The joinpoint 'method-call(java.lang.Class java.lang.Class.forName(java.lang.String))' cannot be advised"/>
      </compile>      
      <run class="Code"/>
    </ajc-test>
    
     <ajc-test dir="bugs163/pr163005" title="do not add method bodies to an interface - 2">
      <compile files="Code.java" options="-1.4 -XnoInline">
        <message kind="warning" text="The joinpoint 'method-call(java.lang.Class java.lang.Class.forName(java.lang.String))' cannot be advised"/>
      </compile>      
      <run class="Code"/>
    </ajc-test>
    
     <ajc-test dir="bugs163/pr163005" title="do not add method bodies to an interface - 3">
      <compile files="Code2.java" options="-1.4">
        <message kind="warning" text="The joinpoint 'constructor-call(void java.lang.Object.&lt;init&gt;())' cannot be advised"/>
      </compile>      
      <run class="Code2"/>
    </ajc-test>

    <ajc-test dir="bugs163/pr250091" title="itd cce">
      <compile files="Demo.java" options="-1.5"/>
      <run class="Demo">
        <stdout>
          <line text="class A (false)"/>
          <line text="class A (false)"/>
          <line text="class Base (false)"/>
        </stdout>
      </run>
    </ajc-test>
    
    <ajc-test dir="bugs163/pr226163" title="breaking recovery">
      <compile files="Code.java" options="-1.5">
        <message kind="error" line="4" text="Syntax error"/>
      </compile>
    </ajc-test>
    
    <ajc-test dir="bugs163/pr173978" title="missing local variable table on around advice">
      <compile files="Test.java TestAroundAspect.java" options="-1.5"/>
    </ajc-test>

    <ajc-test dir="bugs163/pr249710" title="terminateAfterCompilation">
      <compile files="Foo.java" options="-1.5">
      </compile>
    </ajc-test>

    <ajc-test dir="bugs163/pr250632" title="type conversion in generic itd">
      <compile files="MyAspect.java" options="-1.5"/>
    </ajc-test>

    <ajc-test dir="bugs163/pr250493" title="bridge methods for generic itds">
      <compile files="Bridged.java" options="-1.5"/>
      <run class="Bridged">
        <stdout>
          <line text="getterA()java.lang.Object  isBridged?true"/>
          <line text="getterA()java.lang.String  isBridged?false"/>
          <line text="getterB()java.lang.Object  isBridged?true"/>
          <line text="getterB()java.lang.String  isBridged?false"/>
        </stdout>
      </run>
    </ajc-test>
    
    <ajc-test dir="bugs163/pr252285" title="bridge methods for generic itd fields">
      <compile files="Bridged.java" options="-1.5"/>
      <run class="Bridged">
        <stdout>
          <line text="ajc$interFieldGet$X$Super$getterA()java.lang.Integer isBridged?false"/>
          <line text="ajc$interFieldGet$X$Super$getterA()java.lang.Number isBridged?true"/>
          <line text="ajc$interFieldSet$X$Super$getterA()void isBridged?false"/>
          <line text="ajc$interFieldSet$X$Super$getterA()void isBridged?true"/>
        </stdout>
      </run>
    </ajc-test>

</suite>