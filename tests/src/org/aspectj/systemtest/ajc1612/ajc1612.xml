<!DOCTYPE suite SYSTEM "../tests/ajcTestSuite.dtd"[]>

<suite>

<ajc-test dir="bugs1612/pr327867" title="synthetic methods">
<compile files="Foo.java" options="-1.5 -showWeaveInfo">
<message kind="weave" text="Join point 'method-execution(void Foo.main(java.lang.String[]))' in Type 'Foo' (Foo.java:3) advised by before advice from 'X' (Foo.java:17)"/>
<message kind="weave" text="Join point 'method-execution(void Foo.m())' in Type 'Foo' (Foo.java:7) advised by before advice from 'X' (Foo.java:17)"/>
</compile>
<run class="Foo"/>
</ajc-test>

<ajc-test dir="bugs1612/pr345172" title="incorrect annos">
<compile files="InterType.java" options="-1.5 -showWeaveInfo">
<message kind="weave" text="Join point 'method-execution(void InterType$InterTypeIfc.m1(int))' in Type 'InterType' (InterType.java:21) advised by around advice from 'InterType$AroundMethod' (InterType.java:12)"/>
<!-- 
<message kind="weave" text="Join point 'method-execution(void InterType$InterTypeIfc.m1(int, int))' in Type 'InterType' (InterType.java:24) advised by around advice from 'InterType$AroundMethod' (InterType.java:12)"/>
<message kind="weave" text="Join point 'method-execution(void InterType.m1(int))' in Type 'InterType' (InterType.java:28) advised by around advice from 'InterType$AroundMethod' (InterType.java:12)"/>
-->
<message kind="weave" text="Type 'InterType$InterTypeIfc' (InterType.java) has intertyped method from 'InterType' (InterType.java:'void InterType$InterTypeIfc.m1(int)')"/>
<message kind="weave" text="Type 'InterType$InterTypeIfc' (InterType.java) has intertyped method from 'InterType' (InterType.java:'void InterType$InterTypeIfc.m1(int, int)')"/>
</compile>
<run class="InterType"/>
</ajc-test>

<ajc-test dir="bugs1612/pr345172" title="incorrect annos 2">
<compile files="InterType2.java" options="-1.5">
</compile>
<run class="InterType2">
<stdout>
<line text="execution(void InterType2.InterTypeIfc.m1(int))"/>
</stdout></run>
</ajc-test>




<ajc-test dir="bugs1612/pr328099" title="signed jar ltw">
<compile files="X.java" classpath="code.jar"/>
<run class="foo.bar.FooLaunch" ltw="aop.xml" classpath="$sandbox/code.jar">
<stdout>
<line text="pre...Foo.bar()...post"/>
</stdout>
</run>
</ajc-test>

<ajc-test dir="bugs1612/pr315398" title="verifyerror">
<compile files="Code.java" options="-1.5">
</compile>
<run class="Code">
<stdout>
<line text="1"/>
<line text="advice"/>
<line text="2"/>
</stdout></run>
</ajc-test>

<ajc-test dir="bugs1612/pr315398" title="verifyerror - 2">
<compile files="Code2.java" options="-1.5">
</compile>
<run class="Code2"></run>
</ajc-test>

<ajc-test dir="bugs1612/pr335810" title="rawtype warning">
<compile files="One.java" options="-1.5 -warn:+raw -warn:+warningToken">
</compile>
</ajc-test>

<ajc-test dir="bugs1612/pr327134" title="rawtype pointcut">
<compile files="Code.java" options="-1.5 -warn:+raw -warn:+warningToken">
</compile>
</ajc-test>

<ajc-test dir="bugs1612/pr344005" title="decp generics">
<compile files="Anno.java Types.java Azpect.java" options="-1.5 -showWeaveInfo">
<message kind="weave" text="XX"/>
</compile>
</ajc-test>

<ajc-test dir="bugs1612/pr343051" title="illegalaccesserror">
<compile files="Code.java Code2.java Azpect.java" options="-1.5"/>
<run class="p.Code">
<stdout>
<line text="abc"/>
</stdout>
</run>
</ajc-test>

<ajc-test dir="bugs1612/pr339974" title="itit npe">
<compile files="City.java TrafficCalculator.java" options="-1.5">
<message kind="error" text="The nested type TrafficCalculator cannot hide an enclosing type"/>
</compile>
</ajc-test>

<ajc-test dir="bugs1612/pr342605" title="noimporterror">
<compile files="Code.java" options="-1.5 -noImportError"/>
<run class="Code"/>
</ajc-test>

  <ajc-test dir="bugs1612/pr342323" title="clashing local types">
  	<compile files="Runner.java Bean.java Azpect.java" options="-1.5"/>
  	<run class="ppp.Runner">
  	<stdout>
	  	<line text="Calling regular method"/>
	  	<line text="class"/>
	  	<line text="Calling itd method"/>
	  	<line text="aspect foo"/>
  	</stdout>
  	</run>
  </ajc-test>

<ajc-test dir="bugs1612/pr338175" title="itit">
<compile files="pack1/Aspect.java pack2/Java.java pack2/Java2.java" options="-1.5">
	<message kind="error" text="Duplicate nested type ITIT"/>
	<message kind="error" text="can't determine modifiers"/>
</compile>
</ajc-test>

  <ajc-test dir="bugs1612/pr292239" title="throws clause">
  	<compile files="Code.java" options="-1.5 -showWeaveInfo">
  	  <message kind="weave" text="Join point 'method-execution(void mypackage.Code.n())' in Type 'mypackage.Code' (Code.java:19) advised by afterThrowing advice from 'mypackage.Azpect' (Code.java:9)"/>
  	</compile>
  	<run class="mypackage.Code">
  	<stdout>
  	<line text="caught it"/>
  	<line text="done"/>
  	</stdout>
  	</run>
  </ajc-test>
  
  <ajc-test dir="bugs1612/pr292239" title="throws clause - 2">
  	<compile files="Code2.java" options="-1.5 -showWeaveInfo">
  	  <message kind="weave" text="Join point 'method-execution(void mypackage.Code2.n2())' in Type 'mypackage.Code2' (Code2.java:17) advised by afterThrowing advice from 'mypackage.Azpect' (Code2.java:7)"/>
  	</compile>
  	<run class="mypackage.Code2">
  	<stdout>
  	<line text="caught it: execution(void mypackage.Code2.n2())"/>
  	<line text="done"/>
  	</stdout>
  	</run>
  </ajc-test>
<!--  

  
  <ajc-test dir="bugs1611/pr336136" title="itit">
    <compile files="Country_Roo_Op4j.java">
    <message kind="error" text="The import com.foo cannot be resolved" line="1"/>
    <message kind="error" text="The import org.javaruntype cannot be resolved" line="3"/>
    <message kind="error" text="The import org.op4j cannot be resolved" line="4"/>
    <message kind="error" text="The import org.op4j cannot be resolved" line="5"/>
    <message kind="error" text="Country cannot be resolved to a type" line="9"/>
    <message kind="error" text="Function cannot be resolved to a type" line="11"/>
    <message kind="error" text="can't determine modifiers of missing type Country_Roo_Op4j$Keys"/>
    </compile>"
  </ajc-test>
  
  -->
  
  
</suite>